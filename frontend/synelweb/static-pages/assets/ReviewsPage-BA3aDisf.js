var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{l(r.next(e))}catch(t){a(t)}},o=e=>{try{l(r.throw(e))}catch(t){a(t)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);l((r=r.apply(e,t)).next())});import{j as s,B as c,e as d,o as m,p as x,n as u,I as h,M as b,i as p,k as f,h as v,F as g,q as y,t as j,v as w,w as k,A as z,m as S,u as O,S as C}from"./vendor-mui-MjNwMW3h.js";import{r as I,f as P}from"./vendor-react-BzWZx-Tx.js";import{S as A,b as E,c as W}from"./vendor-icons-D7S9NPV8.js";import{a as D}from"./index-D0uvFI5R.js";import{O as N}from"./OptimizedBackgroundImage-i9SbUT2P.js";function F({reviews:e=[]}){const[t,r]=I.useState(0),n=I.useRef();if(I.useEffect(()=>{if(e.length>0)return n.current=setInterval(()=>{r(t=>(t+1)%e.length)},5e3),()=>clearInterval(n.current)},[e.length]),!Array.isArray(e)||0===e.length)return s.jsx(c,{sx:{width:"100%",maxWidth:420,mx:"auto",mt:{xs:2,sm:4},mb:{xs:2,sm:4},position:"relative",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",minHeight:180,backgroundColor:"background.surface",borderRadius:4,boxShadow:"md"},role:"region","aria-label":"Vélemények karusszel",tabIndex:0,children:s.jsx(d,{level:"body2",sx:{color:"text.secondary",textAlign:"center"},children:"Oszd meg a véleményed — számít a visszajelzésed!"})});const a=e[t]||{},i=Number(a.rating)>0?Number(a.rating):0,o=a.created_at&&!isNaN(Date.parse(a.created_at))?new Date(a.created_at).toLocaleDateString("hu-HU"):"";return s.jsxs(c,{sx:{width:"100%",maxWidth:420,mx:"auto",mt:{xs:2,sm:4},mb:{xs:2,sm:4},position:"relative",outline:"none"},role:"region","aria-label":"Vélemények karusszel",tabIndex:0,children:[s.jsx(m,{variant:"soft",sx:{p:{xs:2,sm:3},borderRadius:4,boxShadow:"md",backgroundColor:"background.surface",minHeight:180,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.3s, border-color 0.3s","&:hover":{boxShadow:"0 0 32px 8px rgba(30, 136, 229, 0.25), 0 2px 8px rgba(0,0,0,0.10)",borderColor:"#1976d2"},border:"2px solid transparent"},children:s.jsxs(x,{sx:{width:"100%"},children:[s.jsx(u,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",sx:{mb:1},children:[...Array(i)].map((e,t)=>s.jsx(A,{sx:{color:"#FFD700"},"aria-label":"Csillag"},t))}),s.jsx(d,{level:"body1",sx:{fontSize:{xs:"1rem",sm:"1.1rem"},color:"text.primary",textAlign:"center",mb:2},tabIndex:0,children:a.comment||""}),s.jsx(d,{level:"body2",sx:{color:"text.secondary",textAlign:"center",fontStyle:"italic"},tabIndex:0,children:a.name||""}),s.jsx(d,{level:"body3",sx:{color:"text.tertiary",textAlign:"center",fontSize:"0.85rem",mt:1},tabIndex:0,children:o})]})}),s.jsx(h,{"aria-label":"Előző vélemény",onClick:()=>r(t=>0===t?e.length-1:t-1),sx:{position:"absolute",left:8,top:"50%",transform:"translateY(-50%)",zIndex:3,bgcolor:"background.level1","&:focus":{outline:"2px solid #1976d2"}},tabIndex:0,children:s.jsx(E,{})}),s.jsx(h,{"aria-label":"Következő vélemény",onClick:()=>r(t=>(t+1)%e.length),sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",zIndex:3,bgcolor:"background.level1","&:focus":{outline:"2px solid #1976d2"}},tabIndex:0,children:s.jsx(W,{})}),s.jsx(c,{sx:{textAlign:"center",mt:1},children:s.jsxs(d,{level:"body3",sx:{color:"text.tertiary"},children:[t+1," / ",e.length]})})]})}const R="https://api.synelweb.hu";function V({open:e,onClose:t}){return s.jsx(b,{open:e,onClose:t,"aria-labelledby":"create-error-modal-title","aria-modal":"true",disableScrollLock:!1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs(p,{sx:{width:{xs:"90vw",sm:360},maxWidth:"100vw",p:{xs:2,sm:3},borderRadius:4,boxShadow:"lg",backgroundColor:"background.surface",textAlign:"center"},role:"alertdialog","aria-labelledby":"create-error-modal-title",children:[s.jsx(f,{"aria-label":"Bezárás"}),s.jsx(d,{id:"create-error-modal-title",level:"h4",sx:{mb:2,fontWeight:700},tabIndex:0,children:"Hiányzó kötelező mezők!"}),s.jsx(d,{level:"body1",sx:{mb:2},children:"A név, az email cím és az értékelés megadása kötelező. Kérjük, töltsd ki ezeket a mezőket!"}),s.jsx(v,{variant:"solid",color:"primary",onClick:t,sx:{mt:1,width:"100%"},"aria-label":"Bezárás",children:"Bezárás"})]})})}var L={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q=P.createContext&&P.createContext(L),B=["attr","size","title"];function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){var n,a,i,o;n=e,a=t,i=r[t],(a="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a,"string"))?o:o+"")in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(e){return e&&e.map((e,t)=>P.createElement(e.tag,U({key:t},e.attr),M(e.child)))}function _(e){return t=>P.createElement(K,H({attr:U({},e.attr)},t),M(e.child))}function K(e){var t=t=>{var r,{attr:n,size:a,title:i}=e,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,B),l=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),P.createElement("svg",H({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:r,style:U(U({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&P.createElement("title",null,i),e.children)};return void 0!==q?P.createElement(q.Consumer,null,e=>t(e)):t(L)}function $(e){return _({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function T(e){return _({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}function G(e){var l,c,d=e,{value:m,onChange:x,max:u=5}=d,h=((e,t)=>{var r={};for(var o in e)a.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&n)for(var o of n(e))t.indexOf(o)<0&&i.call(e,o)&&(r[o]=e[o]);return r})(d,["value","onChange","max"]);return s.jsx("div",(l=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))i.call(t,r)&&o(e,r,t[r]);return e})({role:"radiogroup","aria-label":"Értékelés csillagokkal",style:{display:"flex",gap:4}},h),c={children:[...Array(u)].map((e,t)=>s.jsx("button",{type:"button","aria-label":`${t+1} csillag`,"aria-checked":m===t+1,tabIndex:0,style:{background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",fontSize:"2rem",color:"#FFD700"},onClick:()=>x(t+1),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||x(t+1)},children:m>t?s.jsx($,{}):s.jsx(T,{})},t))},t(l,r(c))))}function J({open:e,onClose:t,onSuccess:r}){const[n,a]=I.useState(""),[i,o]=I.useState(""),[c,m]=I.useState(0),[x,h]=I.useState(""),[k,z]=I.useState(!1),[S,O]=I.useState(""),[C,P]=I.useState(!1),A="review-name-input",E="review-email-input",W="review-rating-input",N="review-comment-input";return s.jsxs(s.Fragment,{children:[s.jsx(b,{open:e,onClose:t,"aria-labelledby":"create-review-modal-title","aria-modal":"true",disableScrollLock:!1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs(p,{sx:{width:{xs:"95vw",sm:420},maxWidth:"100vw",p:{xs:2,sm:4},borderRadius:4,boxShadow:"lg",backgroundColor:"background.surface"},role:"dialog","aria-labelledby":"create-review-modal-title",children:[s.jsx(f,{"aria-label":"Bezárás"}),s.jsx(d,{id:"create-review-modal-title",level:"h3",sx:{mb:2,fontSize:{xs:"1.3rem",sm:"1.7rem"},fontWeight:700,textAlign:"center"},tabIndex:0,children:"Vélemény beküldése"}),s.jsx("form",{onSubmit:e=>l(null,null,function*(){if(e.preventDefault(),O(""),!n.trim()||!i.trim()||c<1)return P(!0),void z(!1);z(!0);try{yield function(e){return l(this,null,function*(){return(yield D.post(`${R}review/reviews/`,e,{headers:{"Content-Type":"application/json"}})).data})}({name:n,email:i,rating:c,comment:x}),a(""),o(""),m(0),h(""),z(!1),r&&r(),t&&t()}catch(s){O("Nem sikerült elküldeni a véleményt."),z(!1)}}),"aria-describedby":S?"review-error":void 0,children:s.jsxs(u,{spacing:2,children:[s.jsxs(g,{required:!0,children:[s.jsx(y,{htmlFor:A,children:"Név"}),s.jsx(j,{id:A,name:"name",value:n,onChange:e=>a(e.target.value),placeholder:"Név",autoFocus:!0,required:!0,"aria-required":"true","aria-label":"Név",sx:{width:"100%"}})]}),s.jsxs(g,{required:!0,children:[s.jsx(y,{htmlFor:E,children:"Email cím"}),s.jsx(j,{id:E,name:"email",type:"email",value:i,onChange:e=>o(e.target.value),placeholder:"Email",required:!0,"aria-required":"true","aria-label":"Email cím",sx:{width:"100%"}})]}),s.jsxs(g,{required:!0,children:[s.jsx(y,{htmlFor:W,children:"Értékelés"}),s.jsx(G,{id:W,value:c,onChange:m,max:5,"aria-required":"true","aria-label":"Értékelés csillagokkal"})]}),s.jsxs(g,{children:[s.jsx(y,{htmlFor:N,children:"Vélemény"}),s.jsx(w,{id:N,name:"comment",value:x,onChange:e=>h(e.target.value),placeholder:"Írd le a véleményed...",minRows:3,"aria-label":"Vélemény szövege",sx:{width:"100%"}})]}),S&&s.jsx(d,{id:"review-error",color:"danger",level:"body2",role:"alert",sx:{textAlign:"center"},tabIndex:0,children:S}),s.jsx(v,{type:"submit",loading:k,variant:"solid",color:"primary",sx:{mt:1,width:"100%",fontWeight:600,fontSize:{xs:"1rem",sm:"1.1rem"}},"aria-label":"Vélemény beküldése",children:"Küldés"})]})})]})}),s.jsx(V,{open:C,onClose:()=>P(!1)})]})}function Q({onSuccess:e}){const[t,r]=I.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"relative",display:"inline-block",width:"100%",maxWidth:"420px"},children:s.jsx(v,{variant:"solid",color:"warning",size:"lg",sx:{mt:{xs:2,sm:3},mb:{xs:2,sm:3},px:{xs:2,sm:4},py:{xs:1.5,sm:2},fontSize:{xs:"1rem",sm:"1.15rem"},fontWeight:700,borderRadius:4,boxShadow:"md",width:{xs:"100%",sm:"auto"},position:"relative",zIndex:1,backgroundColor:"#ff9800",color:"#212121","&:hover":{backgroundColor:"#fb8c00"}},"aria-label":"Vélemény írása",onClick:()=>r(!0),children:s.jsx("span",{children:"Mondd el a véleményed a munkámról!"})})}),s.jsx(J,{open:t,onClose:()=>r(!1),onSuccess:e})]})}function X({open:e,onClose:t}){return s.jsx(k,{open:e,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:t,variant:"soft",color:"success",sx:{zIndex:9999,width:{xs:"95vw",sm:"auto"},maxWidth:420,borderRadius:3,boxShadow:"md"},role:"status","aria-live":"polite",children:s.jsx(z,{variant:"soft",color:"success",sx:{fontWeight:600,fontSize:{xs:"1rem",sm:"1.05rem"},textAlign:"center"},onClose:t,tabIndex:0,"aria-label":"Sikeres beküldés, jóváhagyásra vár",children:"Sikeres volt a beküldés, de a véleményed jóváhagyásra vár!"})})}function Z(){return s.jsx(c,{sx:{width:"100%",maxWidth:420,mx:"auto",p:{xs:2,sm:4},borderRadius:4,boxShadow:"md",backgroundColor:"background.surface"},"aria-label":"Vélemények betöltése folyamatban",role:"status",children:s.jsxs(u,{spacing:2,children:[s.jsx(S,{variant:"text",width:"60%",height:28,sx:{mx:"auto"}}),s.jsx(S,{variant:"rectangular",width:120,height:28,sx:{mx:"auto",borderRadius:2}}),s.jsx(S,{variant:"text",width:"90%",height:22,sx:{mx:"auto"}}),s.jsx(S,{variant:"text",width:"80%",height:22,sx:{mx:"auto"}}),s.jsx(S,{variant:"text",width:"40%",height:18,sx:{mx:"auto"}})]})})}function ee(){const{mode:e}=O(),[t,r]=I.useState([]),[n,a]=I.useState(!1),[i,o]=I.useState(!0),m=()=>{o(!0),function(){return l(this,null,function*(){return(yield D.get(`${R}review/reviews/`)).data})}().then(e=>{const t=Array.isArray(e)?e.filter(e=>e.is_approved):[];r(t),o(!1)}).catch(()=>{r([]),o(!1)})};return I.useEffect(()=>{m()},[]),s.jsxs(C,{component:"section",sx:{position:"relative",width:"100vw",minHeight:{xs:"60vw",sm:"60vw",md:"60vw"},maxHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",p:0,m:0,transition:"background 0.3s"},variant:"plain",role:"region","aria-label":"Vélemények szekció",tabIndex:0,children:[s.jsx(N,{cloudinaryId:"reviewpage_ub16ki",alt:"Vélemények háttérkép"}),s.jsx(c,{sx:{position:"relative",zIndex:2,backgroundColor:"dark"===e?"rgba(30,30,30,0.92)":"rgba(255,255,255,0.85)",borderRadius:4,p:{xs:2,sm:4},boxShadow:"md",width:{xs:"95%",sm:"80%",md:"420px"},mx:"auto",textAlign:"center",mt:{xs:4,sm:6},opacity:0,transform:"translateY(32px)",animation:"fadeInUp 0.8s cubic-bezier(.4,0,.2,1) 0.1s forwards"},children:s.jsx(d,{level:"h1",sx:{mb:2,fontSize:{xs:"2rem",sm:"2.5rem"},color:"dark"===e?"#fff":"#121212",fontWeight:700,letterSpacing:"0.02em",textAlign:"center",opacity:0,animation:"fadeInUp 0.8s cubic-bezier(.4,0,.2,1) 0.2s forwards"},tabIndex:0,children:"Vélemények"})}),s.jsx(c,{sx:{position:"relative",zIndex:2,width:"100%",maxWidth:420,mt:3,mx:"auto",opacity:0,transform:"translateY(32px)",animation:"fadeInUp 0.8s cubic-bezier(.4,0,.2,1) 0.6s forwards"},children:i?s.jsx(Z,{}):s.jsx(F,{reviews:t})}),s.jsx(c,{sx:{position:"relative",zIndex:2,width:"100%",maxWidth:420,mt:4,mb:2,mx:"auto",opacity:0,transform:"translateY(32px)",animation:"fadeInUp 0.8s cubic-bezier(.4,0,.2,1) 1.1s forwards",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Q,{onSuccess:()=>{m(),a(!0)}})}),s.jsx(X,{open:n,onClose:()=>a(!1)}),s.jsx("style",{children:"\n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(32px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          @keyframes fadeInBg {\n            from {\n              opacity: 0;\n            }\n            to {\n              opacity: 1;\n            }\n          }\n        "})]})}export{ee as default};
