var e=Object.defineProperty,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,i,r)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,o=(e,o)=>{for(var n in o||(o={}))i.call(o,n)&&a(e,n,o[n]);if(t)for(var n of t(o))r.call(o,n)&&a(e,n,o[n]);return e},n=(e,t,i)=>new Promise((r,a)=>{var o=e=>{try{l(i.next(e))}catch(t){a(t)}},n=e=>{try{l(i.throw(e))}catch(t){a(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);l((i=i.apply(e,t)).next())});import{r as l,j as s,B as d,M as c,I as x,T as p,u as m}from"./index-BNA99n_s.js";import{M as b,a as h,A as g,b as u}from"./ArrowForwardIos-C2-WoJQS.js";import{B as f}from"./Button-BtTIFXJB.js";import{C as y}from"./Chip-3RW8cVIC.js";import{S as j,a as v}from"./index-EXS6kfok.js";import{N as w}from"./NeonBackground-B41xf_lb.js";import{S as k}from"./Sheet-C2gwJ0Gg.js";import"./createSvgIcon-Dd7HnPZ3.js";function I({cloudinaryId:e,alt:t="",aspectRatio:i="16/9",priority:r=!1,sx:a={}}){const[n,c]=l.useState(!1),x=(t,i=75)=>`https://res.cloudinary.com/dmwulp3dl/image/upload/w_${t},q_${i},f_auto,fl_progressive,c_limit/${e}`,p=[`${x(400)} 400w`,`${x(640)} 640w`,`${x(768)} 768w`,`${x(1024)} 1024w`,`${x(1280)} 1280w`,`${x(1536)} 1536w`].join(", ");return e?s.jsxs(d,{sx:o({position:"relative",width:"100%",aspectRatio:i,overflow:"hidden",bgcolor:"background.level2"},a),children:[!n&&s.jsx(d,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"background.level2",animation:"pulse 1.5s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.5}}}}),s.jsx("img",{src:x(768),srcSet:p,sizes:"(max-width: 640px) 400px, (max-width: 768px) 640px, (max-width: 1024px) 768px, 1024px",alt:t,loading:r?"eager":"lazy",fetchPriority:r?"high":"auto",decoding:r?"sync":"async",onLoad:()=>c(!0),style:{width:"100%",height:"100%",objectFit:"cover",opacity:n?1:0,transition:"opacity 0.3s ease-in-out"}})]}):s.jsx(d,{sx:o({width:"100%",aspectRatio:i,bgcolor:"background.level2",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},a),children:"Nincs elérhető kép"})}function C({open:e,onClose:t,slides:i=[],video:r=""}){const[a,o]=l.useState(0),n=r?[{type:"video",src:r},...i]:i,d=n[a],p="video"===(null==d?void 0:d.type)||0===a&&r;return s.jsx(c,{open:e,onClose:t,"aria-labelledby":"media-modal-title","aria-modal":"true",children:s.jsxs(b,{sx:{minWidth:320,maxWidth:540,p:2,borderRadius:4,boxShadow:"lg",backgroundColor:"background.surface",display:"flex",flexDirection:"column",alignItems:"center"},role:"dialog","aria-labelledby":"media-modal-title",children:[s.jsx(h,{"aria-label":"Bezárás"}),s.jsx("div",{style:{width:"100%",textAlign:"center",marginBottom:16},children:p?s.jsx("video",{src:(null==d?void 0:d.src)||r,controls:!0,style:{width:"100%",maxHeight:340,borderRadius:8,background:"#000"}}):(null==d?void 0:d.cloudinaryId)?s.jsx(I,{cloudinaryId:d.cloudinaryId,alt:`Projekt média ${a+1}`,aspectRatio:"16/9",sx:{maxHeight:340,borderRadius:2,bgcolor:"#000"}}):s.jsx("img",{src:(null==d?void 0:d.src)||"",alt:`Projekt média ${a+1}`,style:{width:"100%",maxHeight:340,objectFit:"contain",borderRadius:8,background:"#000"},loading:"lazy"})}),n.length>1&&s.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16},children:[s.jsx(x,{onClick:()=>o(e=>e>0?e-1:n.length-1),"aria-label":"Előző",color:"primary",children:"←"}),s.jsx(x,{onClick:()=>o(e=>e<n.length-1?e+1:0),"aria-label":"Következő",color:"primary",children:"→"})]})]})})}function S({projectVideo:e="",previewImage:t="",previewImagePublicId:i="",images:r=[],priority:a=!1}){var o;const n=[{type:"image",src:t,cloudinaryId:i},{type:"video",src:e},...r.map(e=>({type:"image",src:e.image_url||e,cloudinaryId:e.cloudinary_public_id||""}))].filter(e=>!!e.src||!!e.cloudinaryId),[c,p]=l.useState(0),[m,b]=l.useState(!1);return 0===n.length?s.jsx(d,{sx:{width:"100%",maxWidth:{xs:"100%",sm:520},mx:"auto",py:2,textAlign:"center"},role:"region","aria-label":"Nincs megjeleníthető projekt média",tabIndex:0,children:"Nincs elérhető videó vagy kép ehhez a projekthez."}):s.jsxs(d,{role:"region","aria-label":"Projekt körhinta",sx:{width:"100%",maxWidth:{xs:"100%",sm:520},mx:"auto",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",py:2},tabIndex:0,children:[s.jsx(d,{sx:{width:"100%",aspectRatio:"16/9",borderRadius:3,overflow:"hidden",boxShadow:"md",bgcolor:"background.level1",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"box-shadow 0.3s, filter 0.3s","&:hover":{boxShadow:"lg",filter:"brightness(0.95) drop-shadow(0 0 16px #90caf9)"},"&::after":{content:'"Nagyítás"',position:"absolute",right:12,bottom:12,background:"rgba(30,144,255,0.85)",color:"#fff",fontSize:"0.95rem",padding:"4px 12px",borderRadius:16,opacity:0,pointerEvents:"none",transition:"opacity 0.2s"},"&:hover::after":{opacity:1}},"aria-label":`Körhinta tartalom ${c+1} / ${n.length}`,tabIndex:0,onClick:()=>b(!0),children:"video"===n[c].type?s.jsx("video",{src:n[c].src,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},"aria-label":"Projekt bemutató videó",tabIndex:0}):n[c].cloudinaryId?s.jsx(I,{cloudinaryId:n[c].cloudinaryId,alt:`Projekt kép ${c}`,aspectRatio:"16/9",priority:a,sx:{borderRadius:0}}):s.jsx("img",{src:n[c].src,alt:`Projekt kép ${c}`,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy",tabIndex:0})}),s.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",mt:2},children:[s.jsx(x,{"aria-label":"Előző elem",onClick:()=>p(e=>0===e?n.length-1:e-1),tabIndex:0,children:s.jsx(g,{})}),s.jsx(d,{sx:{display:"flex",gap:1,alignItems:"center"},"aria-label":"Körhinta navigáció",children:n.map((e,t)=>s.jsx("button",{type:"button",onClick:()=>p(t),style:{width:18,height:18,borderRadius:"50%",background:t===c?"#ff9800":"#ccc",border:"none",cursor:"pointer",outline:t===c?"2px solid #ff9800":"none",transition:"all 0.2s",padding:0,margin:4,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":`Ugrás a(z) ${t+1}. elemre`},t))}),s.jsx(x,{"aria-label":"Következő elem",onClick:()=>p(e=>e===n.length-1?0:e+1),tabIndex:0,children:s.jsx(u,{})})]}),s.jsx(C,{open:m,onClose:()=>b(!1),slides:n.filter(e=>"image"===e.type),video:(null==(o=n.find(e=>"video"===e.type))?void 0:o.src)||""})]})}function P({title:e,description:t,tags:i=[],projectVideo:r,previewImage:a,previewImagePublicId:o,images:n=[],link:c,priority:x=!1}){const[m,b]=l.useState(!1),[h,g]=l.useState("auto"),u=(t||"").trim(),j=u.length>220;return s.jsxs(d,{sx:{width:"100%",maxWidth:{xs:"100%",sm:520},bgcolor:"background.surface",borderRadius:4,boxShadow:"lg",border:"2px solid",borderColor:"divider",p:{xs:2,sm:3},mb:4,display:"flex",flexDirection:"column",gap:2,position:"relative",cursor:"pointer",transition:"box-shadow 0.3s, border-color 0.3s, transform 0.3s","&:hover":{boxShadow:"0 0 24px rgba(255,140,0,0.6)",borderColor:"rgba(255,140,0,0.8)",transform:"translateY(-4px)"}},role:"region","aria-label":`Projekt: ${e}`,tabIndex:0,children:[s.jsx(p,{level:"h2",sx:{fontSize:{xs:"1.3rem",sm:"1.7rem"},fontWeight:700,color:"text.primary",mb:1,textAlign:"left"},"aria-label":`Projekt neve: ${e}`,tabIndex:0,children:e}),s.jsx(S,{projectVideo:r,previewImage:a,previewImagePublicId:o,images:n,priority:x}),s.jsxs(d,{children:[s.jsx(p,{level:"body2",sx:{color:"text.secondary",mb:1,textAlign:"left",display:m?"block":"-webkit-box",WebkitLineClamp:m?void 0:4,WebkitBoxOrient:m?void 0:"vertical",overflow:m?"visible":"hidden"},children:u}),j&&s.jsx(d,{sx:{display:"flex",justifyContent:"flex-end"},children:s.jsx(f,{variant:"plain",size:"sm",onClick:()=>b(e=>!e),"aria-expanded":m,children:m?"Kevesebb":"Bővebben"})})]}),i&&i.length>0&&s.jsx(d,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:i.map((e,t)=>s.jsx(y,{color:"primary",variant:"soft",sx:{fontSize:"0.95rem"},"aria-label":`Címke: ${e}`,tabIndex:0,children:e},t))}),c&&s.jsx(f,{component:"a",href:c,target:"_blank",rel:"noopener noreferrer",variant:"solid",color:"warning",size:"md",sx:{mt:1,fontWeight:700,fontSize:"1rem",px:2.5,py:1,borderRadius:3,backgroundColor:"#ff9800",color:"#212121","&:hover":{backgroundColor:"#fb8c00"},boxShadow:"sm"},"aria-label":"Projekt megtekintése",tabIndex:0,children:"Projekt megtekintése"})]})}function z(){return s.jsx(d,{role:"region","aria-label":"Projektek betöltése folyamatban",sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,width:"100%",justifyContent:{xs:"center",sm:"flex-start"},alignItems:{xs:"stretch",sm:"flex-start"},py:2},tabIndex:0,children:[1,2,3].map(e=>s.jsxs(d,{sx:{flex:"1 1 280px",minWidth:{xs:"90%",sm:280},maxWidth:340,bgcolor:"background.level1",borderRadius:3,boxShadow:"md",p:2,display:"flex",flexDirection:"column",gap:2,mb:{xs:3,sm:0}},"aria-label":`Projekt kártya skeleton ${e}`,tabIndex:0,children:[s.jsx(j,{variant:"rectangular",height:160,sx:{borderRadius:2}}),s.jsx(j,{variant:"text",width:"60%",height:32}),s.jsx(j,{variant:"text",width:"80%",height:24}),s.jsx(j,{variant:"text",width:"40%",height:24})]},e))})}const $={data:null,timestamp:0,ttl:3e5};function R(){const[e,t]=l.useState([]),[i,r]=l.useState(!0),{mode:a}=m();return l.useEffect(()=>{n(null,null,function*(){try{const e=yield function(){return n(this,null,function*(){const e=Date.now();if($.data&&e-$.timestamp<$.ttl)return $.data;const t=yield v.get("https://api.synelweb.huprojects/projects/",{timeout:1e4});return $.data=t.data,$.timestamp=e,t.data})}();t(e)}catch(e){}finally{r(!1)}})},[]),s.jsx(w,{children:s.jsxs(k,{component:"section",sx:{position:"relative",width:"100vw",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",p:0,m:0,background:"transparent"},variant:"plain",role:"region","aria-label":"Projektek oldal szekció",tabIndex:0,children:[s.jsx(d,{sx:{position:"relative",zIndex:2,mt:{xs:4,sm:6},mb:2,p:{xs:2,sm:3},borderRadius:4,bgcolor:"dark"===a?"rgba(18,18,18,0.85)":"rgba(255,255,255,0.85)",backdropFilter:"blur(10px)",border:"2px solid",borderColor:"rgba(255,140,0,0.3)",boxShadow:"lg",width:{xs:"95%",sm:"80%",md:"auto"},maxWidth:"720px",mx:"auto",textAlign:"center",opacity:0,animation:"fadeInUp 0.7s cubic-bezier(.4,0,.2,1) 0.1s forwards"},children:s.jsx(p,{level:"h1",tabIndex:0,sx:{fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"},fontWeight:700,color:"dark"===a?"#fff":"text.primary",letterSpacing:"0.02em",textAlign:"center"},"aria-label":"Projektek",children:"Projektek"})}),s.jsx(d,{sx:{width:"100%",display:"flex",flexDirection:{xs:"column",sm:"row"},flexWrap:"wrap",gap:3,alignItems:"center",justifyContent:"center",px:{xs:2,sm:4,md:6},py:4,position:"relative",zIndex:2,minHeight:"50vh"},role:"region","aria-label":"Projektek listája",tabIndex:0,children:i?s.jsx(z,{}):e.map((e,t)=>s.jsx(d,{sx:{opacity:0,animation:`fadeInUp 0.7s cubic-bezier(.4,0,.2,1) ${.3+.15*t}s forwards`,width:"100%",maxWidth:{xs:"100%",sm:520},display:"flex",justifyContent:"center"},children:s.jsx(P,{title:e.name,description:e.description,tags:e.slug?[e.slug]:[],projectVideo:e.preview_video||"",previewImage:e.preview_image||"",previewImagePublicId:e.preview_image_public_id||"",images:e.extra_images||[],link:e.link||"",priority:0===t})},e.id))}),s.jsx("style",{children:"\n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(32px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          @keyframes fadeInBg {\n            from {\n              opacity: 0;\n            }\n            to {\n              opacity: 1;\n            }\n          }\n        "})]})})}export{R as default};
